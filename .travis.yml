language: php

php:
    - 5.3.9
    - 5.3
    - 5.4
    - 5.5
    - 5.6
    - 7
    - hhvm

matrix:
    allow_failures:
        - php: hhvm

services: mongodb

env:
    - SYMFONY_VERSION=2.3
    - SYMFONY_VERSION=2.4
    - SYMFONY_VERSION=2.5
    - SYMFONY_VERSION=2.6
    - SYMFONY_VERSION=2.7
    - SYMFONY_VERSION=2.8

cache:
    directories:
        - $HOME/.composer/cache

before_script:
    - phpenv config-rm xdebug.ini
    - echo "extension = mongo.so" >> ~/.phpenv/versions/$(phpenv version-name)/etc/php.ini
    - composer require symfony/framework-bundle:${SYMFONY_VERSION} ${PREFER} --no-interaction --no-progress

notifications:
    email:
        - tomas.pecserke@gmail.com
